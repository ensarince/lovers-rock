# ClimbMate - Climbing Partner Finding App
“Climbing partners & dating” with a neutral default. Let users choose their intent(s) but keep both experiences visible with clear badges.

## Tech Stack
- React Native + Expo Router v6 (file-based routing)
- TypeScript (strict)
- PocketBase backend 
- Ionicons for UI icons
- useState/useEffect for state

## Folder Structure
```
app/(tabs)/
  _layout.tsx       # 4-tab navigation (Discover, Matches, Messages, Profile)
  discover.tsx        
  matches.tsx, 
  messages.tsx, 
  profile.tsx
```

## Navigation simplification
    a.	One Discover screen with a segmented switch: Dating | Partner.
    b.	Keep Matches a single screen with chips to filter: All | Dating | Partner | Requests.
    c.	Messages stay unified; threads show a badge (Dating/Partner).

3.	## Core interaction model (unify)
    a.	Treat everything as “interest” that can become a match.
    b.	Dating: Like/Pass (+ optional Superlike).
    c.	Partner: Request climb (interest with context: gym, date/time). 
    d.	For partners, add filters for grade they climb (you usually climb people at your level)
    e.	Matching occurs when both express interest (or accept a request). Same backend model, different UI.

4.	## Messaging rules (reduce friction, reduce spam)
    a.	Dating: chat only after mutual like.
    b.	Partner: allow a limited “icebreaker” that lands in a Requests inbox. Full chat unlocks on accept.
    c.	Rate-limit icebreakers (e.g., 3/day, 1 per user until they respond).
    d.	Expire requests after 72h to keep it fresh.

5.	## Partner discovery improvements
    a.	Switchable views: List and Card. Card surfaces vibe; List is utilitarian.
    b.	Strong filters: gym, availability window, styles, grade band, indoor/outdoor, distance.
    c.	Sort by “Available this week”, “Same gym”, “Recently active”.
    d.	Session posts: users create a climb session (gym, time, route styles). Others request to join. Mini group chat per session.

6.	## Matches and Requests UX
    a.	Matches screen sections:
    b.	Requests (Partner): pending/accepted/declined with clear CTA.
    c.	Dating matches: standard list.
    d.	Partner matches: accepted requests, show upcoming session chip if scheduled.
    e.	Empty states should invite enabling intents rather than hide tabs.

7.	## Profile content to add
    a.	Availability (days/times), preferred gyms, belay cert, rope ownership, styles, grade range.
    b.	Intent toggles with visibility controls: Dating photos vs Partner avatar.
    c.	Safety: verification badge (phone + gym check-in), report/block.

8.	## Enable/disable logic
    a.	Don’t remove tabs; show an enable CTA with a friendly explainer and preview.
    b.	If a user disables Dating, hide them from Dating Discover but keep their past matches visible (read-only) with a banner.

9.	## Community layer (optional but powerful)
    a.	Gym hubs: lightweight feed and chat per gym; promote sessions, share partner requests.
    b.	Events: comps, trips, outdoor days.

10.	## Monetization/engagement (later)
    a.	Boost at your gym, Superlike, session highlight, weekly “Top partners” for your gym.
    b.	Streaks for check-ins, availability reminders.

11.	## Safety and trust
    a.	Rate limits, spam detection, mutual block lists, photo verification, report flows.
    b.	First-message templates for Partner to keep messages purposeful.

12.	## Questions to tailor next steps
    a.	What stack are you using (RN/Flutter/Web) and how is your data model for intents today?
    b.	Do you already track availability and gyms?
    c.	Should sessions be 1:1 only or group-friendly?
    d.	Any constraints on messaging before match from your backend?

13. ## Discover tab (Dating | Partner)
    b. Layout
       - Top: segmented switch (Dating | Partner), filter icon, search.
       - Views: Card (swipe) and List (utility). Remember last choice.
    c. Interactions
       - Dating: Like/Pass/Superlike; undo last swipe; long-press to view profile.
       - Partner: "Request climb" with payload (gym, time, note); optional quick icebreaker.
    d. Filters
       - Gym(s), distance, availability window, styles, grade band, indoor/outdoor, last active.
    e. Enable/disable
       - If intent off: preview + CTA to enable; user not shown in that pool.
    f. States
       - Empty: show “No more profiles” with widen-filters CTA.
       - Loading: skeleton cards; Error: toast + retry.
    g. Safety
       - Rate limits on likes/requests; block/report in card menu.
    h. Instrumentation
       - Track impressions, likes, requests, filter usage, enable conversions.
    i. Future
       - Session posts surface; boost slots; gym spotlight.

14. ## Matches tab
    a. Purpose
       - Manage relationships: Requests, Dating matches, Partner matches, Sessions.
    b. Layout
       - Top bar: title, search, filter/sort (Recent, Same gym, Upcoming).
       - Sticky chips: All | Requests | Dating | Partner | Sessions (counts).
    c. Sections
       - Requests (Partner): pending first; actions: Accept, Decline, View profile.
       - Dating matches: card with last message preview; actions: Open chat, Schedule climb.
       - Partner matches: show next session chip; actions: Chat, Add to calendar, Mark done.
       - Sessions: upcoming/past group or 1:1, participant avatars, status.
    d. States
       - Empty: friendly prompt to Discover; if intent off, banner to enable.
       - Pagination: infinite scroll; pull-to-refresh; skeletons.
    e. Safety
       - Long-press: Block/Report; hide on block across tabs.

15. ## Messages tab
    a. Purpose
       - Unified inbox for Dating, Partner, and Session threads.
    b. Layout
       - Tabs or chips: All | Unread | Dating | Partner | Sessions.
       - Each thread shows badges (intent), last message, unread dot, time.
    c. Thread types
       - Dating: full chat only after mutual like.
       - Partner: icebreaker visible pre-accept; full chat unlocks on accept.
       - Session: group chat with simple tools (pin time, RSVP, share gym).
    d. Features
       - Attachments (images), quick templates (Partner: “Belay at 7pm?”).
       - Typing, read receipts, block/report, mute, delete.
       - Rate limits and spam checks; link to profile.
    e. States
       - Empty: CTA to Discover or Matches.
       - Offline: queue outgoing; retry on reconnect.
    f. Instrumentation
       - Send/open rates, response latency, mute/block rates.
    g. Future
       - Scheduled messages, reactions, voice notes; “nudge” reminders for unanswered requests.

16. ## Profile tab
    a. Purpose
       - Showcase identity, manage intents and preferences, safety/verification.
    b. Sections
       - Header: avatar(s) with intent-specific media (Dating photos vs Partner avatar).
       - Bio: name, age optional, about, pronouns (optional).
       - Climbing: gyms, styles, grade range, belay cert, rope ownership, availability.
       - Intents: toggles for Dating/Partner with visibility controls and explainer banners.
       - Preferences: discovery filters defaults, distance, gym priority.
       - Safety: phone/email verification, gym check-in badge, block list, privacy controls.
    c. Actions
       - Edit profile, manage media, toggle intents, export data, delete account.
    d. States
       - If unverified: prompt and benefits; show progress checklist.
       - If intent off: show preview + enable CTA; matches remain read-only.
    e. Instrumentation
       - Completion score, verification conversion, intent toggle frequency.
    f. Future
       - Social links, achievements (check-in streaks), badges, session history.

## Standards
- Functional components only (arrow functions)
- Strict TS (no `any`)
- File names: Components=PascalCase, Services/Types=camelCase
- Imports: `@/src/...` and `@/components/...`
- All mock services return Promises (simulating API)
- Console logs can be used for debugggin but dont overuse them by adding to every step
- Comment only important functions at the top of the function

## Running
```bash
npm start  # Scan QR with Expo Go
pocketbase serve --http=0.0.0.0:8090 # Start PocketBase server
```